<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Customer Portal</title>
</head>
<body>

<!-- ============================ INDEX PAGE ============================ -->
<section th:fragment="indexSection">
    <h2>Welcome to MyFin Bank</h2>

    <a href="/login">Login</a><br><br>
    <a href="/register">Register</a>
</section>


<!-- ============================ LOGIN PAGE ============================ -->
<section th:fragment="loginSection">
    <h2>Customer Login</h2>

    <p style="color:red;" th:text="${error}"></p>

    <form action="/api/customer/login" method="post">

        Account Number:<br>
        <input type="text" name="accountNumber" placeholder="Account Number" required><br><br>

        Password:<br>
        <input type="password" name="password" placeholder="Password" required><br><br>

        <button type="submit">Login</button>
    </form>

    <br>
    <a href="/register">New User? Register</a><br>
    <a href="/">Back to Home</a>
</section>


<!-- ============================ REGISTER PAGE ============================ -->
<section th:fragment="registerSection">
    <h2>Customer Registration</h2>

    <form action="/api/customer/register" method="post">
        Name:<br>
        <input type="text" name="name" required><br><br>

        Account Number:<br>
        <input type="text" name="accountNumber" required><br><br>

        Password:<br>
        <input type="password" name="password" required><br><br>

        Initial Balance:<br>
        <input type="number" name="balance" required><br><br>

        <button type="submit">Register</button>
    </form>

    <br>
    <a href="/login">Already registered? Login</a><br>
    <a href="/">Back to Home</a>
</section>


<!-- ============================ DASHBOARD PAGE ============================ -->
<section th:fragment="welcomeSection">
    <h2>Welcome, <span th:text="${customer.name}"></span></h2>

    <p>
        Account Number: <b th:text="${customer.accountNumber}"></b><br>
        Balance: <b th:text="${customer.balance}"></b>
    </p>

    <a href="/deposit">Deposit</a><br><br>
    <a href="/withdraw">Withdraw</a><br><br>
    <a href="/transfer">Fund Transfer</a><br><br>

    <form action="/logout" method="post">
        <button type="submit">Logout</button>
    </form>
</section>


<!-- ============================ DEPOSIT PAGE ============================ -->
<section th:fragment="depositSection">
    <h2>Deposit Money</h2>

    <form action="/api/customer/deposit" method="post">
        Amount:<br>
        <input type="number" name="amount" required><br><br>

        <button type="submit">Deposit</button>
    </form>

    <br>
    <a href="/welcome">Back</a>
</section>


<!-- ============================ WITHDRAW PAGE ============================ -->
<section th:fragment="withdrawSection">
    <h2>Withdraw Money</h2>

    <form action="/api/customer/withdraw" method="post">
        Amount:<br>
        <input type="number" name="amount" required><br><br>

        <button type="submit">Withdraw</button>
    </form>

    <br>
    <a href="/welcome">Back</a>
</section>


<!-- ============================ TRANSFER PAGE ============================ -->
<section th:fragment="transferSection">
    <h2>Fund Transfer</h2>

    <form action="/api/customer/transfer" method="post">
        Receiver Customer ID:<br>
        <input type="number" name="toId" required><br><br>

        Amount:<br>
        <input type="number" name="amount" required><br><br>

        <button type="submit">Transfer</button>
    </form>

    <br>
    <a href="/welcome">Back</a>
</section>


<!-- ============================ RESULT PAGE ============================ -->
<section th:fragment="resultSection">
    <h2 th:text="${message}"></h2>

    <p><b>Transaction ID:</b> <span th:text="${txid}"></span></p>

    <a href="/welcome">Back to Home</a>
</section>

</body>
</html>
